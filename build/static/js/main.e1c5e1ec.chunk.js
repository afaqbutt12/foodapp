(this.webpackJsonpfood=this.webpackJsonpfood||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={"cart-item":"CartItem_cart-item__1qsQj",summary:"CartItem_summary__3MvnW",price:"CartItem_price__2QW1Y",amount:"CartItem_amount__3LZKq",actions:"CartItem_actions__1uhyv"}},,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(4),s=n.n(a),r=(n(27),n(12)),o=n.p+"static/media/meals.2971f633.jpg",d=(n(28),n(29),n(2)),l=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:Object(d.jsx)("path",{d:"M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm1.336-5l1.977-7h-16.813l2.938 7h11.898zm4.969-10l-3.432 12h-12.597l.839 2h13.239l3.474-12h1.929l.743-2h-4.195z"})})},j=n(7),u=function(e){var t=Object(j.b)((function(e){return e})).addReducer.items.reduce((function(e,t){return e+t.totalAmount}),0);return Object(d.jsxs)("button",{className:"button",onClick:e.onclick,children:[Object(d.jsx)("span",{className:"icon",children:Object(d.jsx)(l,{})}),Object(d.jsx)("span",{children:"your cart"}),Object(d.jsx)("span",{className:"badge",children:t})]})},m=function(e){return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{style:{padding:"10%"},children:"React Meal"}),Object(d.jsx)(u,{onclick:e.onShowCart})]}),Object(d.jsx)("div",{className:"main-image",children:Object(d.jsx)("img",{src:o,alt:"healthy mael"})})]})},b=(n(34),function(){return Object(d.jsxs)("section",{className:"summary",children:[Object(d.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(d.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(d.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})}),h=(n(35),n(36),function(e){return Object(d.jsx)("div",{className:"card",children:e.children})}),O=(n(37),n(38),n(6)),x=(n(39),i.a.forwardRef((function(e,t){return Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(d.jsx)("input",Object(O.a)({ref:t},e.input))]})}))),f=n(16),p=(n(40),function(e){var t=Object(c.useState)(!0),n=Object(r.a)(t,2),i=n[0],a=n[1],s=Object(c.useRef)();return Object(d.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault();var n=s.current.value,c=+n;0===n.trim().lenght||c<1||c>5?a(!1):(e.onAddtoCart(c),f.b.success("Added"))},children:[Object(d.jsx)(x,{ref:s,label:"amount",input:{id:"amount_"+e.id,type:"number",min:"1",max:"5",defaultValue:"1"}}),Object(d.jsx)("button",{children:"+ Add"}),!i&&Object(d.jsx)("p",{children:"Please enter a valid number"}),Object(d.jsx)(f.a,{position:"top-left",autoClose:500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}),v=n(19),g=n(15),A={items:[]},N=Object(g.a)({addReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;if(e=Object(O.a)({},e),"Add"===t.type){console.log(e.items);var n=e.items.findIndex((function(e){return e.id===t.Data.id})),c=e.items[n];if(c){var i=Object(O.a)(Object(O.a)({},c),{},{totalAmount:c.totalAmount+t.Data.totalAmount});e.items[n]=i,console.log(i)}else e.items.push(t.Data)}else if("Removed"===t.type){var a,s=e.items.findIndex((function(e){return e.id===t.Data.id})),r=e.items[s];if(1===r.totalAmount)a=e.items.filter((function(e){return e.id!==t.Data.id})),e.items=a;else{var o=Object(O.a)(Object(O.a)({},r),{},{totalAmount:r.totalAmount-1});a=Object(v.a)(e.items),e.items[s]=o}}return e}}),y=Object(g.b)(N),C=function(e){var t="$".concat(e.price.toFixed(2));return Object(d.jsxs)("li",{className:"meal",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:e.name}),Object(d.jsx)("div",{className:"description",children:e.description}),Object(d.jsx)("div",{className:"price",children:t})]}),Object(d.jsx)("div",{children:Object(d.jsx)(p,{id:e.id,onAddtoCart:function(t){var n={id:e.id,name:e.name,totalAmount:t,price:e.price};y.dispatch({type:"Add",Data:n})}})})]})},w=[{id:"m1",name:"Sushi",description:"Finest fish and veggies",price:22.99},{id:"m2",name:"Schnitzel",description:"A german specialty!",price:16.5},{id:"m3",name:"Barbecue Burger",description:"American, raw, meaty",price:12.99},{id:"m4",name:"Green Bowl",description:"Healthy...and green...",price:18.99}],_=function(){var e=w.map((function(e){return Object(d.jsx)(C,{id:e.id,name:e.name,description:e.description,price:e.price},e.id)}));return Object(d.jsx)("section",{children:Object(d.jsx)("ul",{children:Object(d.jsx)(h,{children:e})})})},k=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{}),Object(d.jsx)(_,{})]})},R=(n(41),n(42),function(e){return Object(d.jsx)("div",{className:"backdrop"})}),D=function(e){return Object(d.jsx)("div",{className:"modal",children:Object(d.jsxs)("div",{className:"content",children:[" ",e.cartBox]})})},F=function(e){var t=document.getElementById("overLays");return Object(d.jsxs)(d.Fragment,{children:[s.a.createPortal(Object(d.jsx)(R,{}),t),s.a.createPortal(Object(d.jsx)(D,{cartBox:e.children}),t)]})},B=n(18),I=n(8),S=n.n(I),z=function(e){var t="$".concat(e.price.toFixed(2));return Object(d.jsxs)("li",{className:S.a["cart-item"],children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:e.name}),Object(d.jsxs)("div",{className:S.a.summary,children:[Object(d.jsx)("span",{className:S.a.price,children:t}),Object(d.jsxs)("span",{className:S.a.amount,children:["x ",e.amount]})]})]}),Object(d.jsxs)("div",{className:S.a.actions,children:[" ",Object(d.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(d.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},H=function(e){var t=Object(j.b)((function(e){return e}));console.log("kajkdj",t.addReducer.items);var n=0,i=t.addReducer.items.map((function(e){return n+=e.price*e.totalAmount}));console.log();var a="$".concat(i[i.length-1].toFixed(2)),s=t.addReducer.items.length>0,r=function(e){var t={id:e.id,totalAmount:1};y.dispatch({type:"Add",Data:t})},o=function(e){var t={id:e.id,totalAmount:e.totalAmount};y.dispatch({type:"Removed",Data:t})},l=Object(d.jsx)("ul",{className:"cart-items",children:t.addReducer.items.map((function(e){return Object(d.jsx)(z,{id:e.id,name:e.name,amount:e.totalAmount,price:e.price,onAdd:r.bind(null,e),onRemove:o.bind(null,e)},e.id)}))}),u=Object(c.useRef)(null);return Object(d.jsxs)(F,{children:[Object(d.jsx)(B.a,{ref:u,paperSize:"A4",children:Object(d.jsxs)("div",{className:"try",children:[Object(d.jsxs)("div",{className:"total",children:[Object(d.jsx)("span",{children:"Total Amount"}),Object(d.jsx)("span",{children:a})]}),Object(d.jsx)("div",{className:"actions",children:l})]})}),s&&Object(d.jsx)("button",{className:"button",onClick:function(e){u.current.save(),console.log("clicked")},children:"Order"}),Object(d.jsx)("button",{className:"buttonalt",onClick:e.onHideCart,children:"Close"})]})};var P=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(d.jsxs)(j.a,{store:y,children:[n&&Object(d.jsx)(H,{onHideCart:function(e){i(!1)}}),Object(d.jsx)(m,{onShowCart:function(){i(!0)}}),Object(d.jsx)("main",{children:Object(d.jsx)(k,{})})]})};s.a.render(Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(P,{})}),document.getElementById("root"))}],[[44,1,2]]]);
//# sourceMappingURL=main.e1c5e1ec.chunk.js.map